<!DOCTYPE html>
<html lang="en">
<head>
  <!-- JQuery -->
  <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.4.1.min.js"></script>  
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Editor</title>
  <style type="text/css" media="screen">
    body * {
        box-sizing: border-box;
    }

    body {
        overflow: hidden;
    }

    .topContainer {
        /* border: 2px solid black;  */
        width: 90vw;
    }

    .buttonContainer {
        /* border: 2px solid green; */
        display: inline-block;
        padding: 10px;
        width: 12%;
        vertical-align: top;
    }
    .buttonContainer button {
        background-color: rgba(0, 194, 0, 0.692);
        color: white;
        text-shadow: -1px 0 black, 0 1px black, 1px 0 black, 0 -1px black;
        width: 100px;
        height: 50px;
        font-size: 18px;
        font-weight: 800;
        border-radius: 10px;
    }   

    .pythonVersion {
        /* border: 2px solid purple; */
        padding: 10px 20px;
    }

    .instructionsContainer {
        display: inline-block;
        width: 87%;
        /* border: 3px solid orange; */
        border-radius: 30px;
        background-color: rgb(255, 255, 184);
        padding: 0px 20px;
        color: rgb(165, 81, 42);
        overflow: auto;
        height: 200px;
        position: relative;
    }
    .instructionsContainer button {
        background-color: rgb(165, 81, 42);
        color: rgb(255, 255, 184);
        border: 1px silver solid;
        border-radius: 10px;
        position: absolute;
        float: right;
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
    }
    .instructionsContainer button:hover {
        background-color: brown;
    }
    #leftButton {
        bottom: 15px;
        right: 50px;
    }
    #rightButton {
        bottom: 15px;
        right: 20px;
    }

    .instructionsSlide {
        box-sizing: border-box;
        height: 180px;
    }

    .instructionsSlide .text {
        height: 90%;
        overflow: auto;
    }

    /* EDITOR */
    .editorContainer {
        width: 50vw;
        height: 80vh;
        display: inline-block;
    }

    #editor {
        margin: 0;
        height: 100%;
        width: 100%;
    }

    /* OUTPUT MESSAGES */
    .outputContainer {
        display: inline-block;
        width: 40vw;
        height: 80vh;
        border: solid gray 2px;
        vertical-align: top;
        padding: 10px;
        overflow: auto;
    }

    .outputContainer p {
        padding: 10px;
        border-radius: 5px;
        margin-bottom: 40px;
        white-space: pre-wrap;
    }

    .outputContainer #stdoutDisplay {
        background-color: rgb(185, 255, 255);
    }

    .outputContainer #stderrDisplay {
        background-color: rgba(255, 108, 108, 0.548);
    }

    .outputContainer #customerrorDisplay {
        background-color: rgba(193, 146, 255, 0.397);
    }

  </style>
</head>
<body>
    <!--------------->
    <!-- HTML BODY -->
    <!--------------->

    <div class="topContainer">
        <div class="buttonContainer">
            <center>
                <div class="pythonVersion">
                    <p>Currently using Python <b>{{version}}</b></p>
                </div>
                <button onclick="saveFile()">Run Me</button>
            </center>
        </div>
        

        <div class="instructionsContainer">
            <div class="instructionsSlide">
                <div class="text">
                    <h3> PRINT STATEMENTS </h3>
                    <p>
                        In Python, messages are printed to the terminal by using the word print, followed by the
                        message itself.  So with the aforementioned example, to print to the terminal “Hello World”,
                        one would code the following:
                        <br>
                        <code>
                            >>> print “Hello World”
                        </code>
                    </p>        
                </div>
                <div class="page">
                    Page 1 / 8
                </div>
            </div>
            <div class="instructionsSlide">
                <div class="text">
                    <h3> STRINGS </h3>
                    <p>
                        As seen above, quotation marks are used around the message to be printed: "Hello World"
                        This is necessary because in Python, a textual message is called a "string", a special type
                        of data (or data type).  Strings can consist of any combination of letters, numbers, and
                        symbols, and can be represented in 2 primary ways: with 'single quotes' and with "double
                        quotes", as long as they are matched.  Therefore, the following are both valid and equivalent methods of printing the same string:
                        <br>
                        <code>
                            >>> print “Hello World”
                            <br>
                            >>> print 'Hello World'
                        </code>
                    </p>        
                </div>
                <div class="page">
                    Page 2 / 8
                </div>
            </div>
            <div class="instructionsSlide">
                <div class="text">
                    <h3> VARIABLES </h3>
                    <p>
                        Furthermore, all data types can be stored in variables that can be defined with any name.
                        Python convention, however, is to use underscores between multiple words in a single
                        variable.  For example, the below will also print "Hello World":
                        <br>
                        <code>
                            >>> message = "Hello World"
                            <br>
                            >>> print message
                        </code>
                    </p>        
                </div>
                <div class="page">
                    Page 3 / 8
                </div>
            </div>
            <div class="instructionsSlide">
                <div class="text">
                    <h3> BOOLEANS </h3>
                    <p>
                        Another data type is the boolean.  Boolean values can only take one of two values.
                        In Python, they are represented as True and False, and corespond to integers 1 and 0,
                        respectively.  (Note that these are not to be confused for strings "True" and "False")
                        <br>
                        <code>
                            >>> True
                            <br>
                            >>> False
                        </code>
                    </p>        
                </div>
                <div class="page">
                    Page 4 / 8
                </div>
            </div>
            <div class="instructionsSlide">
                <div class="text">
                    <h3> COMPARATORS </h3>
                    <p>
                        There are 6 comparators that can be used to compare 2 values in Python, to assess if they
                        are equal, less than, greater than, (and so on) one another.
                        <br>
                        They are as follows:
                        <ul>
                            <li>
                                ==  &nbsp; equal to
                            </li>
                            <li>
                                !=  &nbsp;&nbsp; not equal to
                            </li>
                            <li>
                                <   &nbsp;&nbsp;&nbsp; less than
                            </li>
                            <li>
                                <=  &nbsp; less than or equal to
                            </li>
                            <li>
                                >   &nbsp;&nbsp;&nbsp; greater than
                            </li>
                            <li>
                                >=  &nbsp; greater than or equal to
                            </li>
                        </ul>  
                        <br>
                        For example, the below will output True because the condition is true:

                        <br>
                        <code>
                            >>> 3 + 5 <= 8
                        </code>
                    </p>        
                </div>
                <div class="page">
                    Page 5 / 8
                </div>
            </div>
            <div class="instructionsSlide">
                <div class="text">
                    <h3> CONDITIONALS 1 </h3>
                    <p>
                        Conditional statements can be written to dictate whether or not, or "if" a following block
                        of code should be executed.  The following code associated with that particular conditional
                        statement, or condition, is always indented (generally 4 spaces, called "white spaces").
                        <br>
                        IF statements are an example of this.  For example, the following code would return 'Y' if
                        and only if the 'if statement', '1 + 2 == 3' is true.
                        <br>
                        <code>
                            >>> if 1 + 2 == 3:
                            <br>
                            &emsp; return True
                        </code>
                    </p>        
                </div>
                <div class="page">
                    Page 6 / 8
                </div>
            </div>
            <div class="instructionsSlide">
                <div class="text">
                    <h3> CONDITIONALS 2 </h3>
                    <p>
                        ELSE statements can be used to complement if statements, and dictate what should happen in
                        the case that a paired IF statement is not true.  ELSE statements can only exist with IF
                        statements (and cannot exist alone).  For example, the following code would return 'else
                        statement' in any case where x is not equal to 2.
                        <br>
                        <code>
                            >>> x = 3
                            <br>
                            &emsp; if x == 2:
                            <br>
                            &emsp;&emsp;&emsp;&emsp;return "if statement"
                            <br>
                            &emsp; else:
                            <br>
                            &emsp;&emsp;&emsp; return "else statement"
                        </code>
                    </p>        
                </div>
                <div class="page">
                    Page 7 / 8
                </div>
            </div>
            <div class="instructionsSlide">
                <div class="text">
                    <h3> CONDITIONALS 3 </h3>
                    <p>
                        ELIF is short for 'else if', and dictates whether or not the following block of code should
                        be executed, as long as the previous if and elif conditions were not met.  For example, the
                        following code would return 'elif statement'.
                        <br>
                        <code>
                            >>> x = 3
                            <br>
                            &emsp; if x == 2:
                            <br>
                            &emsp;&emsp;&emsp;&emsp;return "if statement"
                            <br>
                            &emsp; elif x == 3:
                            <br>
                            &emsp;&emsp;&emsp;&emsp;return "elif statement"
                            <br>
                            &emsp; else:
                            <br>
                            &emsp;&emsp;&emsp; return "else statement"
                        </code>
                    </p>        
                </div>
                <div class="page">
                    Page 8 / 8
                </div>
            </div>
    

            <button id="leftButton"> < </button>
            <button id="rightButton"> > </button>
        </div>
    </div>


    <br>

    <div class="editorContainer">

<pre id="editor">
x = True
if (x):
    print("wow")

(3,4).append(5)
</pre>

    </div>

    <div class="outputContainer">
        <div class="customerrorContainer">
            <h3> Custom Error</h3>
            <p id="customerrorDisplay">(...)</p>
        </div>
        <div class="stdoutContainer">
            <h3>Output</h3>
            <p id="stdoutDisplay">(...)</p>
        </div>
        <div class="stderrContainer">
            <h3>Error</h3>
            <p id="stderrDisplay">(...)</p>
        </div>
    </div>

    
    
    
    <!------------->
    <!-- SCRIPTS -->
    <!------------->
    <script src="{{url_for('static', filename='ace-src-noconflict/ace.js')}}" type="text/javascript" charset="utf-8"></script>
    <script>

        /* ACE EDITOR */
        var editor = ace.edit("editor");
        editor.setTheme("ace/theme/twilight");
        editor.session.setMode("ace/mode/python");
        editor.setFontSize(16);

        /* SAVE PYTHON FILE TO RUN */
        function saveFile() {
            const pythonContent = editor.getValue();
            // const uriContent = "data:application/octet-stream," + encodeURIComponent(pythonContent);

            $.ajax({
                type: 'POST',
                url: '/savePythonContent',
                data: pythonContent,
                contentType: false,
                cache: false,
                processData: false,
                beforeSend: function(){
                    console.log("Starting to save file...");
                },
                success: function(data) {
                    console.log('Python Finished Running!');
                    console.log('Response: ')
                    console.log(JSON.parse(data));
                    const pyOutput = JSON.parse(data);

                    document.getElementById("stdoutDisplay").innerHTML = pyOutput.stdout;
                    document.getElementById("stderrDisplay").innerHTML = pyOutput.stderr;
                    document.getElementById("customerrorDisplay").innerHTML = pyOutput.customerror;
                },
            });
        }

        /* INSTRUCTIONS SLIDESHOW */
        var slideIndex = 0;
        showSlide(slideIndex);

        function showSlide(n) {
            let slides = document.getElementsByClassName("instructionsSlide");
            // deal with bounds
            if (n >= slides.length) {n = 0} 
            if (n < 0) {n = slides.length-1}
            // set all slides to invisible
            for (let i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";  
            }
            // set slide n to visible 
            slides[n].style.display = "block";  
            // set slideIndex
            slideIndex = n;
        }

        document.getElementById("leftButton").addEventListener("click", function() {
            showSlide(slideIndex - 1);
        });
        document.getElementById("rightButton").addEventListener("click", function(){
            showSlide(slideIndex + 1)
        });
          

    </script>

</body>
</html>
